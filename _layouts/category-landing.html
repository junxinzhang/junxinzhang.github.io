---
layout: default
---
{% assign category_name = page.category_name %}
{% assign category_posts = site.categories[category_name] %}

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h1 class="font-weight-bold title h3 text-capitalize mb-3">{{ page.heading | default: category_name }}</h1>
      <p class="text-muted mb-4">{{ page.description }}</p>

      <div class="mb-4 p-3 border rounded d-flex flex-wrap align-items-center" style="gap: 10px;">
        <a class="btn btn-sm btn-outline-primary" href="{{site.baseurl}}/posts.html">{{ t.category_landing.all_posts | default: "所有文章" }}</a>
        <a class="btn btn-sm btn-outline-primary" href="{{site.baseurl}}/categories.html">{{ t.category_landing.all_categories | default: "全部分类" }}</a>
        <a class="btn btn-sm btn-outline-primary" href="{{site.baseurl}}/tags.html">{{ t.category_landing.tag_index | default: "标签索引" }}</a>
        <span class="small text-muted">{{ t.category_landing.current_category | default: "当前分类" }}：{{ category_name }} · {{ category_posts.size | default: 0 }} {{ t.category_landing.posts_unit | default: "篇" }}</span>
      </div>

      {% if category_posts and category_posts.size > 0 %}
      {% for post in category_posts %}
      {% if post.title != null %}
      {% if group == null or group == post.group %}
      {% include main-loop-card.html %}
      {% endif %}
      {% endif %}
      {% endfor %}
      {% assign pages_list = nil %}
      {% assign group = nil %}
      {% else %}
      <div class="alert alert-light border">{{ t.category_landing.no_posts | default: "当前分类暂无文章。" }}</div>
      {% endif %}
    </div>

    <div class="col-md-4">
      {% include sidebar-featured.html %}
    </div>
  </div>
</div>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "@id": "{{ page.url | absolute_url }}#collection",
  "name": "{{ page.title | escape }}",
  "url": "{{ page.url | absolute_url }}",
  "description": "{{ page.description | escape }}",
  "isPartOf": {
    "@type": "WebSite",
    "url": "{{ site.url }}"
  },
  "mainEntity": {
    "@type": "ItemList",
    "numberOfItems": {{ category_posts.size | default: 0 }},
    "itemListOrder": "https://schema.org/ItemListOrderDescending",
    "itemListElement": [
      {% if category_posts and category_posts.size > 0 %}
      {% for post in category_posts limit: 30 %}
      {
        "@type": "ListItem",
        "position": {{ forloop.index }},
        "url": "{{ post.url | absolute_url }}",
        "name": "{{ post.title | escape }}"
      }{% unless forloop.last %},{% endunless %}
      {% endfor %}
      {% endif %}
    ]
  }
}
</script>
